<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CW Czar Pricing | Accessorials</title>

  <!-- Use the same CSS & font as other pages -->
  <link rel="stylesheet" href="./styles.css?v=32" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    /* Page-specific niceties (non-header) */
    .page-intro { text-align:center; color:#4b5563; margin-top:6px; }
    .card {
      border: 1px solid #e5e7eb; background:#fff; border-radius:12px; 
      box-shadow:0 2px 8px rgba(0,0,0,.06); padding:18px 18px;
    }
    .split {
      display:grid; grid-template-columns: 1.1fr 1.4fr; gap:24px; align-items:start;
    }
    .muted { color:#6b7280; }
    .help { font-size:.92rem; color:#6b7280; margin-top:6px; }
    .list-empty {
      border:2px dashed #e5e7eb; border-radius:12px; padding:18px; text-align:center; color:#6b7280;
    }
    .row {
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
    }

    /* Accessorials list (left aligned text + aligned delete buttons) */
    .accessorials-list { list-style:none; padding:0; margin:0; }
    .accessorials-item {
      display:flex; align-items:center; justify-content:space-between;
      border-bottom:1px solid #e5e7eb; padding:12px 8px;
    }
    .acc-info { display:flex; align-items:center; gap:10px; min-width:0; }
    .acc-name { font-weight:600; color:#0f3a29; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .acc-price { font-weight:600; color:#111827; }

    .btn-delete {
      background:#0f3a29; color:#fff; border:none; border-radius:8px;
      padding:8px 14px; font-weight:600; cursor:pointer; display:inline-flex; 
      align-items:center; justify-content:center; transition:background .2s ease;
    }
    .btn-delete:hover { background:#145a3c; }

    /* Inline alerts */
    .msg { margin-top:10px; font-size:.95rem; }
    .msg.ok { color:#145a3c; }
    .msg.err { color:#b91c1c; }

    /* Mobile */
    @media (max-width: 960px) {
      .split { grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <!-- Unified header (identical across pages) -->
  <header class="topbar">
    <div class="brand"><span class="brand-text">CW Czar Pricing</span></div>
    <nav class="topnav">
      <a href="index.html">Rate a Shipment</a>
      <a href="manage.html">Manage Settings</a>
      <a href="usage.html">Usage Report</a>
      <a href="accessorials.html" class="active">Accessorials</a>
    </nav>
    <div class="account">
      <a href="account.html" class="account-link">My Account</a>
    </div>
  </header>

  <!-- =========================================================
       MAIN CONTENT WRAPPER
       ========================================================= -->
  <main class="container" id="main" role="main" tabindex="-1">

    <!-- Page Title -->
    <h1 class="title-center">Rate a Shipment</h1>

    <!-- =====================================================
         TWO-COLUMN LAYOUT
         Left: Rating inputs
         Right: Density + Results
         ===================================================== -->
    <div class="rate-wrapper">

      <!-- ===================================================
           LEFT COLUMN — RATING FORM
           =================================================== -->
      <section class="form-section" aria-labelledby="rateFormTitle">
        <h2 id="rateFormTitle" class="sr-only">Lane &amp; Charges</h2>

        <!-- Lane -->
        <div aria-labelledby="laneHdr">
          <h3 id="laneHdr" class="sr-only">Lane</h3>

          <label for="originZip">Origin ZIP</label>
          <input
            id="originZip"
            name="originZip"
            type="text"
            inputmode="numeric"
            pattern="[0-9]*"
            placeholder="e.g., 30303"
            autocomplete="postal-code"
            aria-describedby="originHelp" />
          <div id="originHelp" class="sr-only">5-digit US ZIP code.</div>

          <label for="destinationZip">Destination ZIP</label>
          <input
            id="destinationZip"
            name="destinationZip"
            type="text"
            inputmode="numeric"
            pattern="[0-9]*"
            placeholder="e.g., 60606"
            autocomplete="postal-code"
            aria-describedby="destHelp" />
          <div id="destHelp" class="sr-only">5-digit US ZIP code.</div>
        </div>

        <!-- Charges & Options -->
        <div aria-labelledby="chargesHdr" style="margin-top:12px;">
          <h3 id="chargesHdr" class="sr-only">Charges &amp; Options</h3>

          <label for="class">Class</label>
          <input
            id="class"
            name="class"
            type="text"
            inputmode="numeric"
            placeholder="e.g., 70"
            aria-describedby="classHelp" />
          <div id="classHelp" class="sr-only">NMFC freight class.</div>

          <label for="weight">Weight (lb)</label>
          <input
            id="weight"
            name="weight"
            type="number"
            inputmode="decimal"
            placeholder="e.g., 500"
            min="0"
            step="1"
            aria-describedby="weightHelp" />
          <div id="weightHelp" class="sr-only">Shipment weight in pounds.</div>

          <label for="miles">Miles</label>
          <input
            id="miles"
            name="miles"
            type="number"
            inputmode="decimal"
            placeholder="optional"
            min="0"
            step="1" />

          <label for="fuel">Fuel Surcharge (%)</label>
          <input
            id="fuel"
            name="fuel"
            type="number"
            inputmode="decimal"
            placeholder="e.g., 25"
            min="0"
            step="0.01" />

          <label for="mcFloor">MC Floor ($)</label>
          <input
            id="mcFloor"
            name="mcFloor"
            type="number"
            inputmode="decimal"
            placeholder="optional"
            min="0"
            step="0.01" />

          <label for="accessorials">Accessorials ($)</label>
          <input
            id="accessorials"
            name="accessorials"
            type="number"
            inputmode="decimal"
            placeholder="0.00"
            min="0"
            step="0.01" />

          <!-- Saved Accessorials selection -->
          <label for="savedAccessorial" style="margin-top:10px;">Select Saved Accessorial</label>
          <div style="display:flex;align-items:center;gap:10px;">
            <select id="savedAccessorial" name="savedAccessorial" aria-label="Saved Accessorial">
              <option value="">Select...</option>
            </select>
            <button type="button" class="btn-subtle" id="addAccessorialBtn" aria-label="Add selected accessorial">
              Add
            </button>
          </div>

          <label for="discount" style="margin-top:10px;">Discount (%)</label>
          <input
            id="discount"
            name="discount"
            type="number"
            inputmode="decimal"
            placeholder="e.g., 70"
            min="0"
            max="100"
            step="0.01" />
        </div>

        <!-- Actions -->
        <div class="actions" role="group" aria-label="Rating Actions">
          <button type="button" class="btn-primary" id="rateBtn">Rate Shipment</button>
          <button type="button" class="btn-subtle" id="clearBtn">Clear</button>
        </div>
      </section>

      <!-- ===================================================
           RIGHT COLUMN — DENSITY + RESULTS
           =================================================== -->
      <aside class="right-col" aria-labelledby="rightColTitle">
        <h2 id="rightColTitle" class="sr-only">Density &amp; Results</h2>

        <!-- Density Card -->
        <section class="density-card" aria-labelledby="densityTitle">
          <h3 id="densityTitle">Density Calculator (Optional)</h3>

          <!-- Pallet & Dim grid -->
          <div class="grid-4" role="group" aria-label="Pallet count and dimensions">
            <div>
              <label for="pallets">Pallets</label>
              <input
                id="pallets"
                name="pallets"
                type="number"
                inputmode="numeric"
                min="0"
                step="1"
                placeholder="#" />
            </div>

            <div>
              <label for="length">Length (in)</label>
              <input
                id="length"
                name="length"
                type="number"
                inputmode="decimal"
                min="0"
                step="0.01"
                placeholder="L" />
            </div>

            <div>
              <label for="width">Width (in)</label>
              <input
                id="width"
                name="width"
                type="number"
                inputmode="decimal"
                min="0"
                step="0.01"
                placeholder="W" />
            </div>

            <div>
              <label for="height">Height (in)</label>
              <input
                id="height"
                name="height"
                type="number"
                inputmode="decimal"
                min="0"
                step="0.01"
                placeholder="H" />
            </div>
          </div>

          <!-- Density / Class meta -->
          <div class="density-meta" style="margin-top:10px;">
            <div>
              Density (lbs/ft³):
              <span id="densityVal" aria-live="polite">—</span>
            </div>
            <div>
              Suggested Class:
              <span id="classSuggestion" aria-live="polite">—</span>
            </div>
          </div>

          <!-- Use Suggested Class -->
          <div class="density-actions">
            <button type="button" class="btn-subtle" id="useClassBtn">
              Use Suggested Class
            </button>
          </div>

          <p class="density-note">
            Density auto-calculates as you enter values. Class mapping:
            &lt;1=400; 1–&lt;2=300; 2–&lt;4=250; 4–&lt;6=175; 6–&lt;8=125; 8–&lt;10=100;
            10–&lt;12=92.5; 12–&lt;15=85; 15–&lt;22.5=70; 22.5–&lt;30=65; 30–&lt;35=60;
            35–&lt;50=55; ≥50=50.
          </p>
        </section>

        <!-- Results -->
        <section aria-labelledby="resultsTitle">
          <h3 id="resultsTitle" class="sr-only">Results</h3>
          <ul class="results-list" aria-live="polite">
            <li><span>Gross</span><span id="grossResult">—</span></li>
            <li><span>Discount</span><span id="discountResult">—</span></li>
            <li><span>MC Floor</span><span id="mcResult">—</span></li>
            <li><span>Fuel Surcharge</span><span id="fuelResult">—</span></li>
            <li><span>Accessorials</span><span id="accessorialsResult">—</span></li>
            <li><strong>Net</strong><strong id="netResult">—</strong></li>
          </ul>
        </section>
      </aside>
    </div>
  </main>

  <!-- =========================================================
       FOOTER
       ========================================================= -->
  <footer role="contentinfo">
    © 2025 CW Czar Pricing. All rights reserved.
  </footer>

  <!-- =========================================================
       SCRIPTS
       Keep versions in sync with CSS for cache busting
       ========================================================= -->
  <script src="./app.js?v=32"></script>
</body>
</html>
